function plot_lines_and_intersections(a, xrange, yrange)  rows = size(a, 1)  figure(1)  hold on  for i = 1:rows    task5(a(i,:), xrange, yrange)  endfor    [x, y] = all_lines_intersections(a)    x = reshape(x, 1, rows * rows)  y = reshape(y, 1, rows * rows)    idx = isfinite(x) & isfinite(y)   x = x(1, idx)  y = y(1, idx)     idx = (x >= xrange(1) & x <= xrange(2) &         y >= yrange(1) & y <= yrange(2))         x = x(1, idx)  y = y(1, idx)     plot(x, y, 'o')    legend  endfunction